## Chapter 1 - SETUP

> :white_check_mark: We know already what is the NSO.  
> :arrow_down: Now it's the time to dirty our hands and check how does it work! <br>
> Let's start! :clap: :muscle: 

### 1st step - Check the structure:
Run `ls` command inside of your NSO container to check the structure of deployed NSO:
```
root@45a559b161b4:/opt# ls
ncs-4.7.1.1  ncs-run
```
Great! We see 2 directories:   
- ncs-4.7.1.1 (installation directory)  
- ncs-run (running directory)  

### 2nd step - Login to NSO:
Let's login to our NSO instance as user admin using `ncs_cli -C -u admin` command:
```
root@45a559b161b4:/opt# ncs_cli -C -u admin

admin connected from 127.0.0.1 using console on 45a559b161b4
admin@ncs#
```
We're in! You may wonder why we have used `-C` option here...  
It means that we would like to have Cisco style of the NSO CLI, if you prefer to have a Juniper style of CLI - you can use `-J` option here :) For the purpose of this lab - we will be following Cisco style. 

### 3rd step - Show onboarded devices:
Let's now take a look on what devices we have onboarded in our NSO by issuing command `show devices brief`.
```
admin@ncs# show devices brief
NAME    ADDRESS    DESCRIPTION  NED ID
--------------------------------------------
IOS0    127.0.0.1  -            cisco-ios
IOS1    127.0.0.1  -            cisco-ios
IOSXR0  127.0.0.1  -            cisco-ios-xr
IOSXR1  127.0.0.1  -            cisco-ios-xr
JUN0    127.0.0.1  -            netconf
JUN1    127.0.0.1  -            netconf
```
You should see these names, addresses and types. In our case we have 2 IOS devices, 2 IOS-XR devices and 2 Juniper devices. All of them on localhost because these are our Netsim simulations.

### 4th step - Show packages:  
As of now only NED packages.
```
admin@ncs# show packages package package-version
               PACKAGE
NAME           VERSION
------------------------
cisco-ios      6.10
cisco-iosxr    7.7
juniper-junos  4.1
```

### 5th step - Sync configuration from devices to NSO:
```
admin@ncs# devices sync-from
sync-result {
    device IOS0
    result true
}
sync-result {
    device IOS1
    result true
}
sync-result {
    device IOSXR0
    result true
}
sync-result {
    device IOSXR1
    result true
}
sync-result {
    device JUN0
    result true
}
sync-result {
    device JUN1
    result true
}
```

Check if configuration is present in NSO:
```
admin@ncs# show running-config devices device IOS0
```

Let's try to change something directly on the device and check if NSO will notice this:
```
root@ad720ce13193:/opt/ncs-run# ncs-netsim cli-i IOS0
admin connected from 127.0.0.1 using console on ad720ce13193
IOS0> en
IOS0# conf t
Enter configuration commands, one per line. End with CNTL/Z.
IOS0(config)# interface GigabitEthernet 0/0
IOS0(config-if)# ip address 1.1.1.1 255.255.255.0
IOS0(config-if)# exit
IOS0(config)# exit
IOS0# exit
```

```
root@ad720ce13193:/opt/ncs-run# ncs_cli -C -u admin
admin@ncs# devices check-sync
sync-result {
    device IOS0
    result out-of-sync
    info got: 8149607fd30f37168047f38f30068de9 expected: 4b2d324443b84e439e3e8c77e9da1687

}
sync-result {
    device IOS1
    result in-sync
}
sync-result {
    device IOSXR0
    result in-sync
}
sync-result {
    device IOSXR1
    result in-sync
}
sync-result {
    device JUN0
    result in-sync
}
sync-result {
    device JUN1
    result in-sync
}
```

```
admin@ncs# devices sync-from
sync-result {
    device IOS0
    result true
}
admin@ncs# show running-config devices device IOS0
````

Important Concepts:  
**package** - basic structure of  
**NED** - Network Element Driver, The NSO device manager is the centre of NSO. The device manager maintains a flat list of all managed devices. NSO keeps the master copy of the configuration for each managed device in CDB. Whenever a configuration change is done to the list of device configuration master copies, the device manager will partition this "network configuration change" into the corresponding changes for the actual managed devices. The device manager passes on the required changes to the NEDs, Network Element Drivers. A NED needs to be installed for every type of device OS, like Cisco IOS NED, Cisco XR NED, Juniper JUNOS NED etc. The NEDs communicate through the native device protocol southbound. 

âœ” Basic setup is done. NSO works, correct NEDs packages are imported so we can talk to these types of devices and Netsim devices are onboarded.

---
<h4 align="center">[4/12]</h4>
<h4 align="center"> <a href="/readme/2.md"> :arrow_left: What are we going to do? </a> || <a href="/readme/4.md"> Design the Service! :arrow_right: </a> </h4>
